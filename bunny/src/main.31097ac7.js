parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"osRP":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(){e(this,t)}return r(t,null,[{key:"localStorageAvailable",value:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}}]),t}();exports.default=n;
},{}],"Krzu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Utils"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return e&&u(t.prototype,e),o&&u(t,o),t}function i(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(e){function o(){var t;return n(this,o),(t=i(this,l(o).call(this,{key:"AUDIO",active:!1}))).concurrentSounds={},t.baseVolume=3,t}return c(o,Phaser.Scene),a(o,[{key:"create",value:function(){if(this.startBackgroundAudio("backgroundMusic1"),t.default.localStorageAvailable()){var e="true"===localStorage.getItem("mute_music"),o="true"===localStorage.getItem("mute_effects");this.scene.get("AUDIO").toggleMuteEffects(o),this.scene.get("AUDIO").toggleMuteMusic(e)}}},{key:"toggleMuteEffects",value:function(t){this.muteEffects=t;try{localStorage.setItem("mute_effects",t)}catch(e){console.warn("Failed to write to local storage")}}},{key:"toggleMuteMusic",value:function(t){this.muteMusic=t;try{this.muteMusic?this.music.pause():this.music.resume()}catch(e){console.warn("Unable to toggle mute-music"),console.warn(e)}try{localStorage.setItem("mute_music",t)}catch(e){console.warn("Failed to write to local storage")}}},{key:"startBackgroundAudio",value:function(t){var e=["backgroundMusic1","backgroundMusic2","backgroundMusic3"],o=e.indexOf(t);-1!==o&&e.splice(o,1);var n=e[Math.floor(Math.random()*e.length)];try{this.music=this.sound.add(t,{volume:.02*this.baseVolume}),this.music.on("complete",function(t){this.startBackgroundAudio(n)}.bind(this)),this.music.play()}catch(u){console.warn("Unable to start background track"),console.warn(u)}}},{key:"playLevelUp",value:function(){this.playSound("level_up",1)}},{key:"playButtonPress",value:function(){this.playSound("buttonPressSound",2)}},{key:"playSelectButton",value:function(){this.playSound("menuSelectSound",1)}},{key:"playKill",value:function(){this.playSound("killSound",3,.2)}},{key:"playJump",value:function(){this.playSound("jumpSound",1,.07,1)}},{key:"playZombieStone",value:function(){this.playSound("zombieStone",1,.1,1,-400)}},{key:"playTriggerSound",value:function(){this.playSound("triggerSound",1,.01,1,-100)}},{key:"playZombieRoar",value:function(){this.lastZombieRoar&&Date.now()-this.lastZombieRoar<4e3||Math.random()>.5||(this.lastZombieRoar=Date.now(),this.playSound("zombieRoar",1,.015,3+Math.floor(2*Math.random()),-200*Math.random()-200))}},{key:"playActionCast",value:function(){this.playSound("actionCast",3,.01,2,-400)}},{key:"playLand",value:function(){this.playSound("land",1,.01)}},{key:"playLevelComplete",value:function(){this.playSound("levelCompleteSound",1)}},{key:"playSound",value:function(t,e,o,n,u,a){if(!this.muteEffects){a&&this.music&&this.music.setVolume(.02*this.baseVolume);try{if(this.concurrentSounds.hasOwnProperty(t)||(this.concurrentSounds[t]=0),this.concurrentSounds[t]<e){var i=this.sound.add(t,{volume:(o||.1)*this.baseVolume,rate:n||1,detune:u||0});i.play(),i.on("complete",function(e,o){this.concurrentSounds[t]-=1,o&&this.music.setVolume(.02*this.baseVolume)}.bind(this,a)),this.concurrentSounds[t]+=1}}catch(r){console.log("unable to play sound "+t)}}}}]),o}();exports.default=f;
},{"../Utils":"osRP"}],"J49m":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?o(e):n}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function n(){return e(this,n),r(this,a(n).call(this,{key:"CREDITS",active:!1}))}return s(n,Phaser.Scene),i(n,[{key:"create",value:function(){this.add.image(this.cameras.main.width/2,.3*this.cameras.main.height,"mainscene","logo.png").setScale(3),this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(.6).setDepth(-1),this.createCreditsInfo(),this.createContinueText(),this.input.keyboard.on("keyup",function(t){this.continue()}.bind(this))}},{key:"createCreditsInfo",value:function(){this.add.bitmapText(this.cameras.main.width/2,330,"baseFont","BY JRONN\ntwitter: @josefronn\n\nCHARACTER ART INSPIRED BY 0x72",32,1).setOrigin(.5)}},{key:"createContinueText",value:function(){this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-100,"baseFont","Press                        to continue",24).setAlpha(.8).setOrigin(.5);var t=this.add.bitmapText(this.cameras.main.width/2-28,this.cameras.main.height-100,"highlightFont","any key",24).setTint(16036891).setOrigin(.5);this.tweens.add({targets:t,alpha:.2,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}},{key:"continue",value:function(t){this.scene.start("MENU")}}]),n}();exports.default=u;
},{}],"4DFf":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(){function t(i,s){e(this,t),this.scene=i,this.mapScale=2,this.mapKey=s,this.map=i.add.tilemap(s),this.tileset=this.map.addTilesetImage("tilemap_generic_e","tilemap_generic_e"),this.ground=this.map.createStaticLayer("ground",this.tileset,0,0).setScale(this.mapScale).setDepth(0).setAlpha(.4),this.base=this.map.createDynamicLayer("base",this.tileset,0,0).setScale(this.mapScale).setDepth(1),this.above=this.map.createStaticLayer("above",this.tileset,0,0).setScale(this.mapScale).setDepth(20),this.collisionLayer=this.map.createStaticLayer("collision",this.tileset,0,0).setScale(this.mapScale).setVisible(!1),this.collisionLayer.setCollisionByProperty({collides:!0}),this.initSpawnTiles(),this.initSpecialTiles(),this.addLevelSpecificItems()}return i(t,[{key:"addLevelSpecificItems",value:function(){"lvl_1"===this.mapKey?this.scene.add.image(310,240,"mainscene","keys_move.png").setScale(2).setAlpha(.3):"lvl_7"===this.mapKey&&this.scene.add.image(330,290,"mainscene","keys_action.png").setScale(2).setAlpha(.3)}},{key:"initSpawnTiles",value:function(){var e=this.map.createStaticLayer("spawn",this.tileset,0,0).setScale(this.mapScale).setVisible(!1).getTilesWithin();this.playerSpawn=null,this.enemies=this.scene.add.group(),this.frozenEnemies=this.scene.add.group();for(var t=0;t<e.length;t++){var i=e[t],s={x:i.pixelX*this.mapScale,y:i.pixelY*this.mapScale};if(-1!==i.index)if(i.properties.hasOwnProperty("player"))this.playerSpawn={x:s.x+16,y:s.y};else if(i.properties.hasOwnProperty("enemy")){var a=this.createEnemy(s.x,s.y);this.enemies.add(a)}}}},{key:"createEnemy",value:function(e,t){var i=this.scene.physics.add.sprite(e+16,t+6).setScale(2).setDepth(10).setGravity(0,400).play("zombie_idle");i.body.setSize(10,14,!1),i.body.setOffset(3,11);var s=this.scene.add.image(e+16,t+6).setScale(2).setDepth(40).setVisible(!1);return i.emote=s,i}},{key:"initSpecialTiles",value:function(){this.specialLayer=this.map.createDynamicLayer("special",this.tileset,0,0).setScale(this.mapScale).setVisible(!1);var e=this.specialLayer.getTilesWithin();this.freezeTraps=this.scene.add.group(),this.boxes=this.scene.add.group(),this.doors=this.scene.add.group(),this.doorTriggers=this.scene.add.group();for(var t=0;t<e.length;t++){var i=e[t],s={x:i.pixelX*this.mapScale,y:i.pixelY*this.mapScale};if(i.properties.hasOwnProperty("freezeTrap")){var a=this.createFreezeTrap(s.x,s.y);this.freezeTraps.add(a)}else if(i.properties.hasOwnProperty("portal"))this.portal=this.createPortal(s.x,s.y,this.enemies.countActive()<=0);else if(i.properties.hasOwnProperty("box")){var r=this.createBox(s.x,s.y);this.boxes.add(r)}else i.properties.hasOwnProperty("door_trigger")?this.doorTriggers.add(this.createDoorTrigger(s.x,s.y,i.properties.identifier)):i.properties.hasOwnProperty("door")&&this.doors.add(this.createDoor(s.x,s.y,i.properties.identifier))}}},{key:"createDoor",value:function(e,t,i){var s=this.scene.physics.add.sprite(e,t,"mainscene","door_open_carrot.png").setScale(2).setDepth(30).setImmovable().setOrigin(0);return s.identifier=i,s.deadly=!0,s.objType="door",s}},{key:"createDoorTrigger",value:function(e,t,i){var s=this.scene.physics.add.sprite(e,t+8*this.mapScale+2,"mainscene","trigger.png").setScale(2).setDepth(10).setImmovable().setOrigin(0);return s.body.setSize(12,null,!0),s.body.setOffset(2,0),s.identifier=i,s.objType="trigger",s}},{key:"createBox",value:function(e,t){return this.scene.physics.add.sprite(e,t,"mainscene","box.png").setScale(2).setOrigin(0).setMaxVelocity(150,300).setDrag(1e3,355).setGravity(0,700).setImmovable()}},{key:"createFreezeTrap",value:function(e,t){var i=this.scene.physics.add.sprite(e,t+16,"mainscene","spike_carrot.png").setScale(2).setOrigin(0,0).setDepth(1);return i.body.setSize(12,6,!1),i.body.setOffset(2,2),i.objType="freezeTrap",i}},{key:"createPortal",value:function(e,t,i){var s=this.scene.physics.add.sprite(e,t,"mainscene","portal_closed_01.png").setScale(2).setOrigin(0,.5).setDepth(1);return s.activated=i,s.anims.play(i?"portal_open":"portal_closed"),s.body.setSize(14,20,!1),s.body.setOffset(1,4),s}}]),t}();exports.default=s;
},{}],"W+3U":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function t(n){e(this,t),this.scene=n,this.timeSinceActionInput=999999,this.movementKeys={W:n.input.keyboard.addKey("W"),A:n.input.keyboard.addKey("A"),S:n.input.keyboard.addKey("S"),D:n.input.keyboard.addKey("D"),LEFT:n.input.keyboard.addKey("LEFT"),RIGHT:n.input.keyboard.addKey("RIGHT"),UP:n.input.keyboard.addKey("UP"),DOWN:n.input.keyboard.addKey("DOWN"),SPACE:n.input.keyboard.addKey("SPACE")},this.actionKeys={X:n.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.X),J:n.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.J),F:n.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.F)},this.scene.input.keyboard.on("keyup_R",function(e){this.scene.gameOver||this.scene.restart()}.bind(this))}return n(t,[{key:"triggerAction",value:function(e){this.timeSinceActionInput>100&&this.scene.player.active&&(this.timeSinceActionInput=0,e.triggerAbility())}},{key:"handleMovementInput",value:function(e,t){if(e&&e.active){this.timeSinceActionInput+=t;var n="big_bunny"===e.type?80:130;this.leftMovementTriggered()?(e.setVelocityX(-n),e.updateState("RUN")):this.rightMovementTriggered()?(e.setVelocityX(n),e.updateState("RUN")):(e.setVelocityX(0),e.updateState("IDLE")),e.canJump&&this.upMovementTriggered()&&!e.travelingToShadow&&(e.body.onFloor()||e.body.touching.down||e.timeSinceLastOnFloor<100&&e.timeSinceTravelingToShadow>100)&&(e.setVelocityY(-250),e.jump(),this.scene.scene.get("AUDIO").playJump()),this.actionKeyTriggered()&&this.triggerAction(e)}}},{key:"actionKeyTriggered",value:function(){return Phaser.Input.Keyboard.JustDown(this.actionKeys.X)||Phaser.Input.Keyboard.JustDown(this.actionKeys.J)||Phaser.Input.Keyboard.JustDown(this.actionKeys.F)}},{key:"upMovementTriggered",value:function(){return this.movementKeys.UP.isDown||this.movementKeys.W.isDown||this.movementKeys.SPACE.isDown}},{key:"leftMovementTriggered",value:function(){return this.movementKeys.LEFT.isDown||this.movementKeys.A.isDown}},{key:"rightMovementTriggered",value:function(){return this.movementKeys.RIGHT.isDown||this.movementKeys.D.isDown}}]),t}();exports.default=i;
},{}],"21/c":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?a(e):i}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function i(t){var n;return e(this,i),(n=o(this,s(i).call(this,t.scene,t.pos.x,t.pos.y,"mainscene",""))).scene=t.scene,n.type=t.type,n.canJump=t.canJump||!1,n.canFly=t.canFly||!1,n.animKeys=t.animKeys,n.state="IDLE",n.anims.play(n.animKeys[n.type].idleAnim,!0),n.jumping=!1,n.attacking=!1,n.bouncing=!1,n.scene.add.existing(a(n)),n.scene.physics.add.existing(a(n)),n.setMaxVelocity(200,250),n.setCollideWorldBounds(!0),n.timeSinceLastOnFloor=999999,n}return r(i,Phaser.Physics.Arcade.Sprite),n(i,[{key:"updateState",value:function(t){switch(this.state=t,this.state){case"IDLE":if(this.attacking||this.bouncing)return;this.body.onFloor()||this.body.touching.down?this.anims.play(this.animKeys[this.type].idleAnim,!0):!this.jumping&&this.body.velocity.y>0&&this.anims.play(this.animKeys[this.type].fallAnim,!0);break;case"RUN":if(this.attacking||this.bouncing)return;this.body.onFloor()||this.body.touching.down?this.anims.play(this.animKeys[this.type].runAnim,!0):!this.jumping&&this.body.velocity.y>0&&this.anims.play(this.animKeys[this.type].fallAnim,!0);break;case"JUMP":this.jumping=!0,this.timeSinceLastOnFloor=999999,this.anims.play(this.animKeys[this.type].jumpAnim,!0,0).once("animationcomplete",function(){this.jumping=!1}.bind(this));break;case"ATTACK":this.animKeys[this.type].attackAnim&&(this.attacking=!0,this.anims.play(this.animKeys[this.type].attackAnim,!0,0).once("animationcomplete",function(){this.attacking=!1}.bind(this)));break;case"HITGROUND":this.bouncing=!0,this.anims.play(this.animKeys[this.type].hitgroundAnim,!0,0).once("animationcomplete",function(){this.bouncing=!1}.bind(this))}var e=this.body.velocity.x?this.body.velocity.x<0?-1:1:0;0!=e&&this.setFlipX(e<0)}},{key:"resetStateAfterTypeChange",value:function(){this.jumping?this.updateState("JUMP"):this.bouncing?this.updateState("HITGROUND"):this.updateState(this.state)}}]),i}();exports.default=u;
},{}],"6PYv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Character")),e=n(require("../Utils"));function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(e){function n(t){var e;return a(this,n),t.type=t.hasTransformed?"big_bunny":"small_bunny",t.animKeys={},t.animKeys.small_bunny={},t.animKeys.big_bunny={},t.animKeys.small_bunny.idleAnim="small_bunny_idle",t.animKeys.small_bunny.runAnim="small_bunny_run",t.animKeys.small_bunny.jumpAnim="small_bunny_jump",t.animKeys.small_bunny.fallAnim="small_bunny_fall",t.animKeys.small_bunny.attackAnim="small_bunny_ability",t.animKeys.small_bunny.hitgroundAnim="small_bunny_hitground",t.animKeys.big_bunny.idleAnim="big_bunny_idle",t.animKeys.big_bunny.runAnim="big_bunny_run",t.animKeys.big_bunny.jumpAnim="big_bunny_jump",t.animKeys.big_bunny.fallAnim="big_bunny_fall",t.animKeys.big_bunny.attackAnim="big_bunny_run",t.animKeys.big_bunny.hitgroundAnim="big_bunny_hitground",t.animKeys.big_bunny.attackAnim="big_bunny_attack",t.canMove=!0,t.canJump=!0,(e=r(this,y(n).call(this,t))).setDepth(21),e.setScale(2),e.body.setGravity(0,600),e.setPhysicsSize(t.hasTransformed),e.createFearRadiusIndicator(),t.hasWeapon&&e.createWeapon(),e.createJumpEffectEmitter(),e}return l(n,t.default),o(n,[{key:"setPhysicsSize",value:function(t){t?(this.body.setSize(14,14,!1),this.body.setOffset(10,20)):(this.body.setSize(12,10,!1),this.body.setOffset(2,6))}},{key:"createWeapon",value:function(){this.weapon=this.scene.physics.add.sprite(this.x,this.y,"mainscene","carrot_weapon_attack_01.png").setScale(2).setDepth(100).setOrigin(.5),this.weapon.objType="weapon",this.weapon.attackAnim="carrot_attack"}},{key:"createFearRadiusIndicator",value:function(){this.fearRadiusIndicator=this.scene.add.image(this.x,this.y,"mainscene","fear_radius.png").setScale(2).setOrigin(.5).setAlpha(.2).setDepth(100)}},{key:"createJumpEffectEmitter",value:function(){this.jumpEmitter=this.scene.add.particles("mainscene").setDepth(2),this.jumpEmitter.createEmitter({frame:"smoke.png",lifespan:500,rotate:{min:0,max:360},speedX:{min:-20,max:20},speedY:{min:-15,max:0},alpha:{start:1,end:0},scale:{min:.2,max:.2},gravityY:30,on:!1})}},{key:"update",value:function(t,e){this.active&&(this.body.onFloor()||this.body.touching.down?(this.timeSinceLastOnFloor>=500&&(this.updateState("HITGROUND"),this.body.onFloor()&&this.triggerGroundImpactEffect()),this.timeSinceLastOnFloor=0):this.timeSinceLastOnFloor+=e,this.fearRadiusIndicator.setPosition(this.getCenter().x,this.getCenter().y),this.updateWeaponPosition())}},{key:"updateWeaponPosition",value:function(){this.weapon&&(this.flipX?this.weapon.setPosition(this.getCenter().x-(this.weapon.displayWidth-this.displayWidth)/2-5,this.getCenter().y-(this.weapon.displayHeight-this.displayHeight)/2+25):this.weapon.setPosition(this.getCenter().x+(this.weapon.displayWidth-this.displayWidth)/2+5,this.getCenter().y-(this.weapon.displayHeight-this.displayHeight)/2+25),this.weapon.setFlipX(this.flipX))}},{key:"jump",value:function(){this.updateState("JUMP"),this.body.touching.down||this.triggerGroundImpactEffect()}},{key:"triggerGroundImpactEffect",value:function(){this.jumpEmitter.emitParticleAt(this.getCenter().x,this.getCenter().y+this.displayHeight/2,3),this.scene.scene.get("AUDIO").playLand()}},{key:"triggerAbility",value:function(){this.weapon&&(this.scene.triggerWeapon(this.weapon),this.scene.scene.get("AUDIO").playActionCast(),this.weapon.anims.play(this.weapon.attackAnim))}},{key:"kill",value:function(){this.weapon&&this.weapon.destroy(),this.destroy()}}]),n}();exports.default=p;
},{"./Character":"21/c","../Utils":"osRP"}],"3Q/J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../Map")),t=s(require("../Input")),i=s(require("../characters/Player"));function s(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function h(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(s){function n(){return a(this,n),h(this,c(n).call(this,{key:"GAME",active:!1}))}return d(n,Phaser.Scene),o(n,[{key:"init",value:function(e){this.level=e.level,this.bunnyHasTransformed=this.level>11,this.hasWeapon=this.level>6&&!this.bunnyHasTransformed}},{key:"create",value:function(){this.cameras.main.setZoom(1.5),this.cameras.main.setBounds(0,0,960,540),this.cameras.main.centerOn(315,320),this.gameOver=!1,this.map=new e.default(this,"lvl_"+this.level),this.inputManager=new t.default(this),this.createBackground(),this.createPlayer(),this.createDeathEffectEmitter(),this.showInGameHud(),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"showInGameHud",value:function(){this.scene.get("HUD").showInGameHud("lvl "+this.level+"/20")}},{key:"createBackground",value:function(){this.add.image(0,0,"mainscene","background_ingame.png").setOrigin(0).setScale(2).setAlpha(.1)}},{key:"createPlayer",value:function(){this.player=new i.default({scene:this,pos:this.map.playerSpawn,hasTransformed:this.bunnyHasTransformed,hasWeapon:this.hasWeapon}),this.physics.add.collider(this.player,this.map.collisionLayer),this.physics.add.collider(this.map.boxes,this.map.collisionLayer),this.physics.add.collider(this.map.enemies,this.map.collisionLayer),this.physics.add.overlap(this.map.enemies,this.map.freezeTraps,this.freezeEnemy.bind(this)),this.physics.add.collider(this.player,this.map.enemies,this.bunnyHasTransformed?function(e,t){this.bunnyEatEnemy(t)}.bind(this):this.playerDeath.bind(this)),this.physics.add.overlap(this.player,this.map.freezeTraps,this.playerDeath.bind(this)),this.physics.add.collider(this.map.boxes,this.map.enemies),this.physics.add.collider(this.map.boxes),this.physics.add.collider(this.map.frozenEnemies),this.physics.add.collider(this.map.boxes,this.player),this.physics.add.collider(this.player,this.map.doors),this.physics.add.collider(this.map.enemies,this.map.doors),this.physics.add.collider(this.map.boxes,this.map.doors),this.physics.add.collider(this.player,this.map.frozenEnemies),this.physics.add.collider(this.map.enemies,this.map.frozenEnemies)}},{key:"createDeathEffectEmitter",value:function(){var e=this.add.particles("mainscene").setDepth(100);this.deathEffect=e.createEmitter({lifespan:700,speedX:{min:-40,max:40},speedY:{min:-40,max:40},alpha:{start:1,end:0},scale:{min:1,max:2},on:!1})}},{key:"bunnyEatEnemy",value:function(e){this.player.updateState("ATTACK"),this.freezeEnemy(e)}},{key:"freezeEnemy",value:function(e,t){var i=this.physics.add.sprite(e.x,e.y,"mainscene","zombie_dead_carrot.png").setScale(2).setFlipX(e.flipX).setDepth(10).setImmovable(!0);i.body.setSize(10,14,!1),i.body.setOffset(3,11),this.map.frozenEnemies.add(i),this.killEnemy(e)}},{key:"emitParticleSplash",value:function(e,t,i){this.deathEffect.setFrame(t),this.deathEffect.emitParticleAt(e.getCenter().x,e.getCenter().y,i||15)}},{key:"nextLevel",value:function(){this.gameOver||(this.gameOver=!0,this.scene.get("HUD").hideInGameHud(),this.player.kill(),this.scene.get("AUDIO").playLevelComplete(),this.scene.get("HUD").showTransitionOverlay(800,function(){this.storeLevelAsCompleted(),kongregate?kongregate.stats.submit("max_level",this.level||0):console.warn("kongrete api not loaded properly, cant report stats"),6===this.level?this.scene.start("CUTSCENE_1"):11===this.level?this.scene.start("CUTSCENE_2"):20===this.level?this.scene.start("CUTSCENE_END"):this.scene.start("GAME",{level:this.level+1})}.bind(this)))}},{key:"storeLevelAsCompleted",value:function(){try{localStorage.setItem("lvl_bunny_"+this.level,!0)}catch(e){console.warn("Failed to store level as completed",e)}}},{key:"restart",value:function(){this.scene.start("GAME",{level:this.level})}},{key:"playKillEffects",value:function(e){this.emitParticleSplash(e,"smoke_white.png"),this.scene.get("AUDIO").playZombieStone(),this.cameras.main.shake(100,.005,.005)}},{key:"playerDeath",value:function(){this.player.active&&(this.emitParticleSplash(this.player,"smoke_white.png"),this.scene.get("AUDIO").playKill(),this.player.kill(),this.gameOver=!0,this.cameras.main.shake(100,.005,.005),this.time.delayedCall(1e3,this.restart,null,this))}},{key:"triggerPortalOpen",value:function(){if(0==this.map.enemies.countActive()){var e=[];e.push(this.map.portal),this.map.bonusPortal&&e.push(this.map.bonusPortal);for(var t=0;t<e.length;t++){var i=e[t];i.activated=!0,i.anims.play("portal_initial_open"),i.once("animationcomplete",function(e,t,i){i.anims.play("portal_open")}.bind(i),this)}}}},{key:"update",value:function(e,t){if(this.gameOver)return this.player&&this.player.active&&this.player.setVelocity(0),void this.map.enemies.children.entries.forEach(function(e){this.enemyStop(e)}.bind(this));this.processBoxPhysics(),this.player.update(e,t),this.inputManager.handleMovementInput(this.player,t),this.checkPlayerCollision(),this.checkFearRadius(this.bunnyHasTransformed?-1:1),this.checkDoorTriggers(),this.checkDoorCollision()}},{key:"checkDoorTriggers",value:function(){this.map.doorTriggers.children.entries.forEach(function(e){e.setTexture("mainscene","trigger.png")}.bind(this)),this.map.doors.children.entries.forEach(function(e){e.changedStateThisFrame=!1,e.triggerIsDown=!1}.bind(this)),this.player&&this.player.active&&(this.map.doorTriggers.children.entries.forEach(function(e){var t=this,i=new Phaser.Geom.Rectangle(e.body.x,e.body.y,e.body.width,e.body.height);this.checkDoorTriggerCollision(i,this.player,e),this.map.enemies.children.entries.forEach(function(s){return t.checkDoorTriggerCollision(i,s,e)}),this.map.frozenEnemies.children.entries.forEach(function(s){return t.checkDoorTriggerCollision(i,s,e)}),this.map.boxes.children.entries.forEach(function(s){return t.checkDoorTriggerCollision(i,s,e)})}.bind(this)),this.map.doors.children.entries.forEach(function(e){e.triggerIsDown||e.deadly||this.toggleDoor(e,!0),e.changedStateThisFrame&&this.scene.get("AUDIO").playTriggerSound()}.bind(this)))}},{key:"checkDoorCollision",value:function(){this.map.doors.children.entries.forEach(function(e){e.deadly&&(this.physics.overlap(e,this.player)&&this.playerDeath(),this.map.enemies.children.entries.forEach(function(t){this.physics.overlap(e,t)&&this.freezeEnemy(t)}.bind(this)),this.map.boxes.children.entries.forEach(function(t){var i=new Phaser.Geom.Rectangle(t.body.x+4,t.body.y,t.body.width-8,t.body.height),s=new Phaser.Geom.Rectangle(e.body.x,e.body.y,e.body.width,e.body.height);e.changedStateThisFrame&&!e.triggerIsDown&&Phaser.Geom.Intersects.RectangleToRectangle(i,s)&&t.setPosition(t.x,e.y-e.displayHeight)}.bind(this)))}.bind(this))}},{key:"checkDoorTriggerCollision",value:function(e,t,i){var s=new Phaser.Geom.Rectangle(t.body.x,t.body.y,t.body.width,t.body.height);Phaser.Geom.Intersects.RectangleToRectangle(s,e)&&this.map.doors.children.entries.forEach(function(e,t){t.identifier===e.identifier&&(this.toggleDoor(t,!1),e.setTexture("mainscene","trigger_down.png"))}.bind(this,i))}},{key:"toggleDoor",value:function(e,t){e.triggerIsDown=!t,t&&e.deadly||!t&&!e.deadly||(e.changedStateThisFrame=!0,e.deadly=t,e.body.setEnable(t),e.setTexture("mainscene",t?"door_open_carrot.png":"door_closed_carrot.png"))}},{key:"checkFearRadius",value:function(e){var t=new Phaser.Geom.Circle(this.player.getCenter().x,this.player.getCenter().y,96);this.map.enemies.children.entries.forEach(function(t,i){if(i.active){var s=new Phaser.Geom.Rectangle(i.body.x,i.body.y,i.body.width,i.body.height);if(Phaser.Geom.Intersects.CircleToRectangle(t,s)){var n=(t.x>s.x?30:-30)*(e>0?1:-1.15),a=n<0;i.emote.visible||this.scene.get("AUDIO").playZombieRoar(),i.emote.setVisible(!0),i.emote.setPosition(i.x,i.y-30),i.emote.setTexture("mainscene",e<0?"emote_alert.png":"emote_food.png"),a!=i.flipX&&i.delayedTurnFrames<5?i.delayedTurnFrames++:(i.delayedTurnFrames=0,i.setFlipX(a),i.setVelocityX(n),i.anims.play("zombie_run",!0))}else this.enemyStop(i)}}.bind(this,t))}},{key:"enemyStop",value:function(e){e&&e.active&&(e.setVelocityX(0),e.anims.play("zombie_idle",!0),e.emote.setVisible(!1))}},{key:"killEnemy",value:function(e){e.emote.setVisible(!1),e.destroy(),this.playKillEffects(e),this.triggerPortalOpen()}},{key:"triggerWeapon",value:function(e){e&&this.map.enemies.children.entries.forEach(function(e,t){t.active&&this.physics.overlap(e,t)&&this.freezeEnemy(t)}.bind(this,e))}},{key:"processBoxPhysics",value:function(){if(this.player&&this.player.active)for(var e=this.map.boxes.getChildren().filter(function(e){return e.active}),t=0;t<e.length;t++){var i=e[t],s=this.physics.overlapRect(i.x-2,i.y,i.displayWidth,i.displayHeight,!0,!0).filter(function(e){return!["weapon","freezeTrap","trigger","door"].includes(e.gameObject.objType)}),n=this.physics.overlapRect(i.x+2,i.y,i.displayWidth,i.displayHeight,!0,!0).filter(function(e){return!["weapon","freezeTrap","trigger","door"].includes(e.gameObject.objType)});this.physics.overlapRect(i.x,i.y+4,i.displayWidth,i.displayHeight,!0,!0).filter(function(e){return!(["weapon","freezeTrap","trigger"].includes(e.gameObject.objType)||"door"==e.gameObject.objType&&!e.gameObject.deadly)}).length>1?(i.setVelocityY(0),i.setGravity(0,0)):i.setGravity(0,700),s.length>1&&n.length>1||(this.map.enemies.children.entries.forEach(function(e,t){e.body.touching.left&&t.x<e.x&&!e.body.touching.right&&!e.body.embedded&&e.setVelocityX(80),e.body.touching.right&&t.x>e.x&&!e.body.touching.left&&!e.body.embedded&&e.setVelocityX(-80)}.bind(this,i)),i.body.touching.left&&this.player.x<i.x&&!i.body.touching.right&&!i.body.embedded&&i.setVelocityX(80),i.body.touching.right&&this.player.x>i.x&&!i.body.touching.left&&!i.body.embedded&&i.setVelocityX(-80))}}},{key:"checkPlayerCollision",value:function(){var e=new Phaser.Geom.Rectangle(this.map.portal.body.x,this.map.portal.body.y,this.map.portal.body.width,this.map.portal.body.height),t=new Phaser.Geom.Rectangle(this.player.body.x,this.player.body.y,this.player.body.width,this.player.body.height);this.player.active&&Phaser.Geom.Intersects.RectangleToRectangle(e,t)&&this.playerCollidesWithPortal(this.player,this.map.portal,!1)}},{key:"playerCollidesWithPortal",value:function(e,t){t.activated&&this.nextLevel()}}]),n}();exports.default=p;
},{"../Map":"4DFf","../Input":"W+3U","../characters/Player":"6PYv"}],"jooe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Utils"));function t(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(t){function s(){return i(this,s),c(this,r(s).call(this,{key:"HUD",active:!1}))}return l(s,Phaser.Scene),a(s,[{key:"create",value:function(){e.default.localStorageAvailable()?(this.muteMusic="true"===localStorage.getItem("mute_music"),this.muteEffects="true"===localStorage.getItem("mute_effects")):(this.muteMusic=!1,this.muteEffects=!1),this.createFullScreenButton(),this.createBackButton(),this.createMuteSoundsButton(),this.createLevelText(),this.createTransitionOverlay(),this.createInstructions()}},{key:"createFullScreenButton",value:function(){this.add.image(this.cameras.main.width-73,50,"mainscene","fullscreen_icon.png").setInteractive().setScale(2).on("pointerdown",function(){try{this.scale.isFullscreen?this.scale.stopFullscreen():this.scale.startFullscreen()}catch(e){console.warn("Unable to toggle fullscreen, may be restricted by browser-capabilities or permissions")}}.bind(this))}},{key:"createBackButton",value:function(){this.backBtn=this.add.image(50,50,"mainscene","arrow.png").setInteractive().setAngle(180).setVisible(!1).setScale(2),this.backBtn.on("pointerup",function(){this.scene.stop("GAME"),this.scene.run("MENU")}.bind(this))}},{key:"createMuteSoundsButton",value:function(){var e=this.add.image(this.cameras.main.width-130,50,"mainscene",this.muteEffects?"sound_off.png":"sound_on.png").setInteractive().setScale(2);e.on("pointerdown",function(){this.muteEffects=!this.muteEffects,this.scene.get("AUDIO").toggleMuteEffects(this.muteEffects),e.setTexture("mainscene",this.muteEffects?"sound_off.png":"sound_on.png")}.bind(this));var t=this.add.image(this.cameras.main.width-180,50,"mainscene",this.muteMusic?"music_off.png":"music_on.png").setInteractive().setScale(2);t.on("pointerdown",function(){this.muteMusic=!this.muteMusic,this.scene.get("AUDIO").toggleMuteMusic(this.muteMusic),t.setTexture("mainscene",this.muteMusic?"music_off.png":"music_on.png")}.bind(this))}},{key:"createLevelText",value:function(){this.levelText=this.add.bitmapText(40,this.cameras.main.height-55,"baseFont","LEVEL "+this.level,32).setOrigin(0,.5).setAlpha(.6).setVisible(!1)}},{key:"createInstructions",value:function(){this.instructions=this.add.bitmapText(40,this.cameras.main.height-30,"baseFont","R - restart",24).setOrigin(0,.5).setAlpha(.3).setVisible(!1)}},{key:"showInGameHud",value:function(e){this.levelText.text=e,this.levelText.setVisible(!0),this.backBtn.setVisible(!0),this.instructions.setVisible(!0)}},{key:"hideInGameHud",value:function(){this.levelText.setVisible(!1),this.backBtn.setVisible(!1),this.instructions.setVisible(!1)}},{key:"createTransitionOverlay",value:function(){this.transitionOverlayImages=[];for(var e=[{x:200,y:300,scale:7},{x:100,y:200,scale:10},{x:900,y:100,scale:10},{x:850,y:190,scale:15},{x:400,y:50,scale:12},{x:800,y:50,scale:12},{x:200,y:400,scale:15},{x:150,y:50,scale:15},{x:700,y:150,scale:19},{x:300,y:250,scale:19},{x:50,y:440,scale:15},{x:400,y:400,scale:17},{x:600,y:400,scale:17},{x:300,y:50,scale:7},{x:100,y:50,scale:25},{x:660,y:50,scale:25},{x:400,y:50,scale:25},{x:200,y:200,scale:40},{x:820,y:500,scale:25},{x:600,y:250,scale:25},{x:55,y:300,scale:15},{x:455,y:300,scale:15},{x:800,y:200,scale:40},{x:340,y:400,scale:70}],t=0;t<e.length;t++){var s=e[t],i=this.add.image(s.x,s.y,"mainscene","carrot_small.png").setScale(s.scale).setAngle(t%5==0?90:t%3==0?180:t%2==0?270:0).setVisible(!1).setDepth(100);this.transitionOverlayImages.push(i)}}},{key:"hideTransitionOverlay",value:function(e){for(var t=0;t<this.transitionOverlayImages.length;t++)setTimeout(function(e){this.transitionOverlayImages[e].setVisible(!1)}.bind(this,t),e-t*(e/this.transitionOverlayImages.length))}},{key:"showTransitionOverlay",value:function(e,t){for(var s=0;s<this.transitionOverlayImages.length;s++)setTimeout(function(e){this.transitionOverlayImages[e].setVisible(!0)}.bind(this,s),s*e/this.transitionOverlayImages.length);setTimeout(t,e+100)}}]),s}();exports.default=h;
},{"../Utils":"osRP"}],"1pe0":[function(require,module,exports) {
"use strict";function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function s(e,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,a,t){return a&&s(e.prototype,a),t&&s(e,t),e}function i(a,s){return!s||"object"!==e(s)&&"function"!=typeof s?n(a):s}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&l(e,a)}function l(e,a){return(l=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var m=function(e){function s(){var e;return a(this,s),(e=i(this,r(s).call(this,{key:"LOADING",active:!0}))).loaded=!1,e}return o(s,Phaser.Scene),t(s,[{key:"preload",value:function(){this.load.on("progress",function(e){this.progressBar.clear(),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(this.cameras.main.width/2-160,this.cameras.main.height/2,300*e,30)}.bind(this)),this.load.on("complete",function(){this.loaded=!0,this.progressBar.destroy(),this.progressBox.destroy()}.bind(this)),this.progressBar=this.add.graphics(),this.progressBox=this.add.graphics(),this.progressBox.fillStyle(2236962,.8),this.progressBox.fillRect(this.cameras.main.width/2-170,this.cameras.main.height/2-10,320,50),this.loadAssets()}},{key:"loadAssets",value:function(){this.load.atlas("mainscene","assets/spritesheet.png","assets/spritesheet.json"),this.load.image("tilemap_generic_e","assets/tilemap_generic_e.png"),this.load.image("ag_logo","assets/ag_logo.png"),this.load.tilemapTiledJSON("lvl_1","assets/lvl_1.json"),this.load.tilemapTiledJSON("lvl_2","assets/lvl_2.json"),this.load.tilemapTiledJSON("lvl_3","assets/lvl_3.json"),this.load.tilemapTiledJSON("lvl_4","assets/lvl_4.json"),this.load.tilemapTiledJSON("lvl_5","assets/lvl_5.json"),this.load.tilemapTiledJSON("lvl_6","assets/lvl_6.json"),this.load.tilemapTiledJSON("lvl_7","assets/lvl_7.json"),this.load.tilemapTiledJSON("lvl_8","assets/lvl_8.json"),this.load.tilemapTiledJSON("lvl_9","assets/lvl_9.json"),this.load.tilemapTiledJSON("lvl_10","assets/lvl_10.json"),this.load.tilemapTiledJSON("lvl_11","assets/lvl_11.json"),this.load.tilemapTiledJSON("lvl_12","assets/lvl_12.json"),this.load.tilemapTiledJSON("lvl_13","assets/lvl_13.json"),this.load.tilemapTiledJSON("lvl_14","assets/lvl_14.json"),this.load.tilemapTiledJSON("lvl_15","assets/lvl_15.json"),this.load.tilemapTiledJSON("lvl_16","assets/lvl_16.json"),this.load.tilemapTiledJSON("lvl_17","assets/lvl_17.json"),this.load.tilemapTiledJSON("lvl_18","assets/lvl_18.json"),this.load.tilemapTiledJSON("lvl_19","assets/lvl_19.json"),this.load.tilemapTiledJSON("lvl_20","assets/lvl_20.json"),this.load.bitmapFont("baseFont","assets/font_0.png","assets/font.fnt"),this.load.bitmapFont("highlightFont","assets/font_0_red.png","assets/font.fnt"),this.load.audio("menuSelectSound",["assets/audio/click_1.wav"]),this.load.audio("buttonPressSound",["assets/audio/click_2.wav"]),this.load.audio("jumpSound",["assets/audio/jump.wav"]),this.load.audio("killSound",["assets/audio/kill.wav"]),this.load.audio("zombieStone",["assets/audio/zombie_stone.wav"]),this.load.audio("zombieRoar",["assets/audio/zombie_roar.wav"]),this.load.audio("killSound",["assets/audio/kill.wav"]),this.load.audio("triggerSound",["assets/audio/trigger.wav"]),this.load.audio("levelCompleteSound",["assets/audio/levelComplete.wav"]),this.load.audio("backgroundMusic1",["assets/audio/gameplayLoop1_c.mp3"]),this.load.audio("backgroundMusic2",["assets/audio/gameplayLoop2_c.mp3"]),this.load.audio("backgroundMusic3",["assets/audio/gameplayLoop3_c.mp3"]),this.load.audio("actionCast",["assets/audio/action.wav"]),this.load.audio("land",["assets/audio/land.wav"])}},{key:"create",value:function(){this.anims.create({key:"portal_initial_open",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"portal_initial_open_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"portal_open",frames:this.anims.generateFrameNames("mainscene",{start:1,end:8,zeroPad:2,prefix:"portal_open_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"portal_closed",frames:this.anims.generateFrameNames("mainscene",{start:1,end:1,zeroPad:2,prefix:"portal_closed_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"small_bunny_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_idle_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"small_bunny_sleep",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_sleep_",suffix:".png"}),frameRate:6,repeat:-1}),this.anims.create({key:"small_bunny_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"small_bunny_jump",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"bunny_jump_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"small_bunny_fall",frames:this.anims.generateFrameNames("mainscene",{start:1,end:1,zeroPad:2,prefix:"bunny_fall_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"small_bunny_ability",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"bunny_idle_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"small_bunny_hitground",frames:this.anims.generateFrameNames("mainscene",{start:1,end:2,zeroPad:2,prefix:"bunny_hitground_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"big_bunny_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"big_bunny_idle_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"big_bunny_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"big_bunny_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"big_bunny_jump",frames:this.anims.generateFrameNames("mainscene",{start:1,end:3,zeroPad:2,prefix:"big_bunny_run_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"big_bunny_fall",frames:this.anims.generateFrameNames("mainscene",{start:1,end:1,zeroPad:2,prefix:"big_bunny_fall_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"big_bunny_hitground",frames:this.anims.generateFrameNames("mainscene",{start:1,end:2,zeroPad:2,prefix:"big_bunny_hitground_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"big_bunny_attack",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"big_bunny_attack_",suffix:".png"}),frameRate:12,repeat:0}),this.anims.create({key:"zombie_idle",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"zombie_idle_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"zombie_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"zombie_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"big_zombie_run",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"big_zombie_run_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"big_zombie_run_wcarrot",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"big_zombie_run_wcarrot_",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"carrot_attack",frames:this.anims.generateFrameNames("mainscene",{start:1,end:5,zeroPad:2,prefix:"carrot_weapon_attack_",suffix:".png"}),frameRate:16,repeat:0}),this.anims.create({key:"carrot_eaten",frames:this.anims.generateFrameNames("mainscene",{start:1,end:4,zeroPad:2,prefix:"carrot_eaten_",suffix:".png"}),frameRate:1,repeat:0})}},{key:"update",value:function(){this.loaded&&(this.scene.launch("HUD"),this.scene.start("MENU"),this.scene.start("AUDIO"))}}]),s}();exports.default=m;
},{}],"+oaI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Utils"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(t){function n(){return i(this,n),a(this,r(n).call(this,{key:"MENU",active:!1}))}return c(n,Phaser.Scene),o(n,[{key:"create",value:function(){this.gameStartInitiated=!1,this.scene.get("HUD").hideInGameHud(),this.continueItemIndex=1,this.checkUnlockedLevels(),this.createBackground(),this.createMenuHeader(),this.createMenuSelect(),this.createCreditsButton(),this.createTwitterButton(),this.input.keyboard.on("keyup_SPACE",function(e){this.clickMenuItem()}.bind(this)),this.input.keyboard.on("keyup_ENTER",function(e){this.clickMenuItem()}.bind(this)),this.input.keyboard.on("keydown_UP",function(e){this.updateSelectedMenuItem(-1)}.bind(this)),this.input.keyboard.on("keydown_DOWN",function(e){this.updateSelectedMenuItem(1)}.bind(this)),this.input.keyboard.on("keydown_W",function(e){this.updateSelectedMenuItem(-1)}.bind(this)),this.input.keyboard.on("keydown_S",function(e){this.updateSelectedMenuItem(1)}.bind(this)),this.input.keyboard.on("keydown_LEFT",function(e){this.updateContinueLevel(-1)}.bind(this)),this.input.keyboard.on("keydown_A",function(e){this.updateContinueLevel(-1)}.bind(this)),this.input.keyboard.on("keydown_RIGHT",function(e){this.updateContinueLevel(1)}.bind(this)),this.input.keyboard.on("keydown_D",function(e){this.updateContinueLevel(1)}.bind(this))}},{key:"createCreditsButton",value:function(){this.add.bitmapText(.12*this.cameras.main.width,510,"baseFont","CREDITS",32).setOrigin(.5).setInteractive().on("pointerdown",function(){this.scene.start("CREDITS")}.bind(this))}},{key:"createTwitterButton",value:function(){this.add.image(850,440,"mainscene","twitter.png").setScale(2).setAlpha(.5).setOrigin(.5).setInteractive().on("pointerdown",function(){try{window.open("https://twitter.com/josefronn","_blank")}catch(e){}}.bind(this))}},{key:"checkUnlockedLevels",value:function(){if(this.lastUnlockedLvl=1,this.selectedContinueLvl=1,e.default.localStorageAvailable()){for(var t=1;t<=20;t++){if(null==localStorage.getItem("lvl_bunny_"+t))return this.lastUnlockedLvl=t,void(this.selectedContinueLvl=t);this.lastUnlockedLvl=t}this.selectedContinueLvl=this.lastUnlockedLvl}else console.warn("Can not access local storage, user may be blocking through extension/settings")}},{key:"createBackground",value:function(){this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setAlpha(1).setDepth(-1)}},{key:"createMenuHeader",value:function(){this.add.image(this.cameras.main.width/2,.3*this.cameras.main.height,"mainscene","logo.png").setScale(3)}},{key:"createMenuSelect",value:function(){this.menuButtons=[];var e=this.add.bitmapText(this.cameras.main.width/2,330,"baseFont","PLAY",48).setOrigin(.5).setInteractive().on("pointerdown",function(){this.startGame(1,!1)}.bind(this)),t=this.add.bitmapText(this.cameras.main.width/2,390,"baseFont","CONTINUE (LVL "+this.selectedContinueLvl+")",48).setOrigin(.5).setInteractive().on("pointerdown",function(){this.startGame(this.selectedContinueLvl,!1)}.bind(this));this.levelSelectArrows=this.add.image(t.x+t.width/2+30,t.y,"mainscene","sidearrows.png").setTint(16036891).setScale(2),this.menuButtons.push(e),this.menuButtons.push(t),this.arrow=this.add.image(320,0,"mainscene","carrot_indicator.png").setTint(16036891).setScale(2),this.tweens.add({targets:this.arrow,alpha:.2,yoyo:!0,repeat:-1,duration:600,ease:"Quad.easeIn"}),this.selectedMenuItem=-1,this.updateSelectedMenuItem(1)}},{key:"clickMenuItem",value:function(){this.scene.get("AUDIO").playButtonPress(),this.menuButtons[this.selectedMenuItem].emit("pointerdown")}},{key:"updateSelectedMenuItem",value:function(e){var t=this.selectedMenuItem+e;t<0||t>this.menuButtons.length-1||(this.scene.get("AUDIO").playSelectButton(),this.selectedMenuItem=t,this.arrow.y=this.menuButtons[this.selectedMenuItem].y,this.arrow.x=this.menuButtons[this.selectedMenuItem].x-this.menuButtons[this.selectedMenuItem].width/2-40,this.selectedMenuItem===this.continueItemIndex?this.levelSelectArrows.setVisible(!0):this.levelSelectArrows.setVisible(!1))}},{key:"updateContinueLevel",value:function(e){var t=this.selectedContinueLvl+e;t<1||t>this.lastUnlockedLvl||this.selectedMenuItem!=this.continueItemIndex||(this.scene.get("AUDIO").playSelectButton(),this.selectedContinueLvl=t,this.menuButtons[this.continueItemIndex].text="CONTINUE (LVL "+this.selectedContinueLvl+")")}},{key:"startGame",value:function(e,t){this.gameStartInitiated||(this.gameStartInitiated=!0,t?this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.get("ACHIEVEMENT").resetTimer(),this.scene.start("GAME",{level:e,timedRun:!0})}.bind(this)):1==e?this.scene.start("STORY_INTRO"):this.scene.get("HUD").showTransitionOverlay(800,function(){this.scene.start("GAME",{level:e})}.bind(this)))}}]),n}();exports.default=l;
},{"../Utils":"osRP"}],"T/zn":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?r(e):n}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=function(t){function n(t,i,r){var a;return e(this,n),(a=o(this,s(n).call(this,{key:t,active:!1}))).skipAvailable=i,a.continueCallback=r,a.queuedUpActions=[],a}return a(n,Phaser.Scene),i(n,[{key:"create",value:function(){this.scene.get("HUD").hideInGameHud(),this.add.image(0,0,"mainscene","background.png").setDisplaySize(this.cameras.main.width,this.cameras.main.height).setDepth(-1).setAlpha(1).setOrigin(0),this.skipAvailable&&(this.startInitiated=!1,this.createContinueText(),this.input.keyboard.on("keyup_SPACE",function(t){this.continue()}.bind(this)))}},{key:"nextScene",value:function(t,e){this.queuedUpActions.push(setTimeout(function(t){t()}.bind(this,e),t))}},{key:"queueAction",value:function(t,e,n,i){this.queuedUpActions.push(setTimeout(function(t,e,n){var i=e();t.add(i),n&&this.queuedUpActions.push(setTimeout(function(t){t.destroy()}.bind(this,i),n))}.bind(this,e,t,i),n))}},{key:"createContinueText",value:function(){this.add.bitmapText(this.cameras.main.width/2+6,this.cameras.main.height-30,"baseFont","Press                    to skip",24).setOrigin(.5).setAlpha(.5);var t=this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-30,"highlightFont","space",24).setOrigin(.5).setAlpha(.7);this.tweens.add({targets:t,alpha:.3,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"})}},{key:"continue",value:function(t){for(var e=0;e<this.queuedUpActions.length;e++)clearTimeout(this.queuedUpActions[e]);this.startInitiated||(this.startInitiated=!0,this.scene.get("HUD").showTransitionOverlay(800,function(){this.continueCallback()}.bind(this)))}}]),n}();exports.default=c;
},{}],"Rvmz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./StoryScene"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=c(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(t){function n(){return i(this,n),o(this,h(n).call(this,"CUTSCENE_END"))}return l(n,e.default),a(n,[{key:"create",value:function(){this.scene.get("HUD").hideTransitionOverlay(800),u(h(n.prototype),"create",this).call(this),this.createCutscene()}},{key:"createCutscene",value:function(){var e=this.add.group();this.queueAction(this.createBigZombie.bind(this),e),this.queueAction(this.createBunnyChase.bind(this),e,5e3),this.queueAction(this.createCarrot.bind(this),e,3e3),this.queueAction(this.createThanksForPlayingText.bind(this),e,1e4),this.queueAction(this.createContinueText.bind(this),e,12e3)}},{key:"createCarrot",value:function(){return this.add.image(500,380,"mainscene","carrot_golden.png").setScale(6)}},{key:"createBigZombie",value:function(){var e=this.add.sprite(-290,300).setScale(6).anims.play("big_zombie_run_wcarrot"),t=this.add.image(-290,170,"mainscene","emote_alert.png").setScale(6);return this.tweens.add({targets:[e,t],x:500,ease:"Linear",duration:3e3,onComplete:function(e,t){e.active&&(e.play("big_zombie_run"),this.tweens.add({targets:[e,t],x:1080,ease:"Linear",duration:2500,onComplete:function(e,t){e.active&&e.destroy(),t.active&&t.destroy()}.bind(this,e,t)}))}.bind(this,e,t)}),e}},{key:"createBunnyChase",value:function(){var e=this.add.sprite(-150,330).setScale(6).anims.play("big_bunny_run");return this.tweens.add({targets:e,x:540,ease:"Linear",duration:3e3}),e}},{key:"createThanksForPlayingText",value:function(){var e=this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-90,"baseFont","THANKS FOR PLAYING :)",48).setAlpha(0).setOrigin(.5);return this.tweens.add({targets:e,alpha:1,repeat:0,duration:8e3,ease:"Linear"}),e}},{key:"createContinueText",value:function(){this.input.keyboard.on("keyup",function(e){this.scene.start("MENU")}.bind(this)),this.add.bitmapText(this.cameras.main.width/2,this.cameras.main.height-50,"baseFont","Press                        to continue",24).setOrigin(.5);var e=this.add.bitmapText(this.cameras.main.width/2-28,this.cameras.main.height-50,"highlightFont","any key",24).setTint(16036891).setOrigin(.5);return this.tweens.add({targets:e,alpha:.2,yoyo:!0,repeat:-1,duration:700,ease:"Quad.easeIn"}),e}}]),n}();exports.default=d;
},{"./StoryScene":"T/zn"}],"7aKw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./StoryScene"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(t){function n(){return r(this,n),u(this,l(n).call(this,"CUTSCENE_1",!0,function(){this.scene.start("GAME",{level:7})}))}return f(n,e.default),i(n,[{key:"create",value:function(){a(l(n.prototype),"create",this).call(this),this.createCutscene(),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"createCutscene",value:function(){var e=this.add.group();this.queueAction(this.createBunnyChase.bind(this),e,0,2e3),this.queueAction(this.createCarrot.bind(this),e),this.queueAction(this.createIdleBunny.bind(this),e,2e3),this.nextScene(5e3,this.continue.bind(this))}},{key:"createBunnyChase",value:function(){var e=this.add.sprite(-100,380).setScale(6).anims.play("small_bunny_run");return this.tweens.add({targets:e,x:420,ease:"Linear",duration:2e3}),e}},{key:"createCarrot",value:function(){return this.add.image(530,410,"mainscene","carrot.png").setAngle(90).setScale(6)}},{key:"createIdleBunny",value:function(){return this.add.sprite(420,380,"mainscene","bunny_idle_01.png").anims.play("small_bunny_idle").setScale(6)}}]),n}();exports.default=p;
},{"./StoryScene":"T/zn"}],"L+vo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./StoryScene"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(t){function n(){return r(this,n),a(this,l(n).call(this,"CUTSCENE_2",!0,function(){this.scene.start("GAME",{level:12})}))}return f(n,e.default),o(n,[{key:"create",value:function(){c(l(n.prototype),"create",this).call(this),this.createCutscene(),this.scene.get("HUD").hideTransitionOverlay(800)}},{key:"createCutscene",value:function(){var e=this.add.group();this.queueAction(this.createIdleBunny.bind(this),e,0,2e3),this.queueAction(this.createCarrotWeapon.bind(this),e,0,2e3),this.queueAction(this.createCarrot.bind(this),e,2e3,4500),this.queueAction(this.createBigBunny.bind(this),e,8e3),this.nextScene(12e3,this.continue.bind(this))}},{key:"createIdleBunny",value:function(){return this.add.sprite(370,210,"mainscene","bunny_idle_01.png").anims.play("small_bunny_idle").setScale(12)}},{key:"createCarrotWeapon",value:function(){return this.add.image(490,280,"mainscene","carrot_weapon_attack_01.png").setScale(12)}},{key:"createCarrot",value:function(){return this.cameras.main.flash(500,0,0,0),this.add.sprite(490,280,"mainscene","carrot_eaten_01.png").anims.play("carrot_eaten").setScale(12)}},{key:"createBigBunny",value:function(){return this.cameras.main.flash(1500,0,0,0),this.add.sprite(440,230,"mainscene","bunny_idle_01.png").anims.play("big_bunny_idle").setScale(12)}}]),n}();exports.default=y;
},{"./StoryScene":"T/zn"}],"hcX4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./StoryScene"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(t){function n(){return r(this,n),u(this,l(n).call(this,"STORY_INTRO",!0,function(){this.scene.start("GAME",{level:1})}))}return f(n,e.default),o(n,[{key:"create",value:function(){c(l(n.prototype),"create",this).call(this),this.createCutscene()}},{key:"createCutscene",value:function(){var e=this.add.group();this.queueAction(this.createCarrot.bind(this),e,5e3,6e3),this.queueAction(this.createText.bind(this),e,0,4e3),this.queueAction(this.createBunny.bind(this),e,5e3,9e3),this.queueAction(this.createBigZombie.bind(this),e,8e3),this.queueAction(this.createIdleBunny.bind(this),e,14e3,2e3),this.queueAction(this.createBunnyAlert.bind(this),e,14e3,2e3),this.queueAction(this.createBunnyChase.bind(this),e,16e3),this.nextScene(19e3,this.continue.bind(this))}},{key:"createText",value:function(){return this.add.bitmapText(470,240,"baseFont",'"BUNNIE\'S GOLDEN CARROT GETS STOLEN"',48).setOrigin(.5)}},{key:"createBunny",value:function(){return this.add.sprite(150,400).setScale(6).anims.play("small_bunny_sleep")}},{key:"createCarrot",value:function(){return this.add.image(220,410,"mainscene","carrot_golden.png").setScale(6)}},{key:"createBigZombie",value:function(){var e=this.add.sprite(-300,350).setScale(6).anims.play("big_zombie_run");return this.tweens.add({targets:e,x:280,ease:"Linear",duration:3e3,onComplete:function(e){e.active&&(e.play("big_zombie_run_wcarrot"),this.tweens.add({targets:e,x:1080,ease:"Linear",duration:3500,onComplete:function(e){e.active&&e.destroy()}.bind(this,e)}))}.bind(this,e)}),e}},{key:"createIdleBunny",value:function(){return this.add.sprite(150,400,"mainscene","bunny_idle_01.png").setScale(6)}},{key:"createBunnyAlert",value:function(){return this.add.image(150,260,"mainscene","emote_alert.png").setScale(6)}},{key:"createBunnyChase",value:function(){var e=this.add.sprite(150,400).setScale(6).anims.play("small_bunny_run");return this.tweens.add({targets:e,x:1080,ease:"Linear",duration:3e3}),e}}]),n}();exports.default=h;
},{"./StoryScene":"T/zn"}],"HJD/":[function(require,module,exports) {
"use strict";var e=o(require("./scene/AudioScene")),n=o(require("./scene/CreditsScene")),r=o(require("./scene/GameScene")),t=o(require("./scene/HudScene")),a=o(require("./scene/LoadingScene")),u=o(require("./scene/MenuScene")),c=o(require("./scene/story/Custcene_end")),d=o(require("./scene/story/Cutscene_1")),s=o(require("./scene/story/Cutscene_2")),i=o(require("./scene/story/IntroScene"));function o(e){return e&&e.__esModule?e:{default:e}}var l={type:Phaser.AUTO,pixelArt:!0,physics:{default:"arcade",arcade:{tileBias:16,debug:!1}},backgroundColor:"#302c2e",scene:[a.default,i.default,d.default,s.default,c.default,u.default,n.default,r.default,e.default,t.default],scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"game-container",width:960,height:540}};new Phaser.Game(l),window.onload=function(){this.kongregate=null,kongregateAPI.loadAPI(function(){this.kongregate=kongregateAPI.getAPI()}.bind(this)),window.addEventListener("keydown",function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()},!1)};
},{"./scene/AudioScene":"Krzu","./scene/CreditsScene":"J49m","./scene/GameScene":"3Q/J","./scene/HudScene":"jooe","./scene/LoadingScene":"1pe0","./scene/MenuScene":"+oaI","./scene/story/Custcene_end":"Rvmz","./scene/story/Cutscene_1":"7aKw","./scene/story/Cutscene_2":"L+vo","./scene/story/IntroScene":"hcX4"}]},{},["HJD/"], null)