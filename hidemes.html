<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<input id=context><input=message><button id=hide>HIDE MESSAGE</button><br>
<input id=text><button id=show>SHOW MESSAGE</button>
<div id=result></div>
<script>
document.querySelector('#hide').onclick = function {
  const context = document.querySelector('#context').value;
  const message = document.querySelector('message').value;
  if (!/^[a-z ]*$/.test(message)) throw 'Invalid Input';
  var d = '⁤⁤⁪⁤⁢⁭⁯⁢⁫⁭⁫⁣⁬⁬⁪⁮⁮⁮⁭⁣⁫⁪⁢⁬⁣⁯', p = '⁯͏⁡⁡⁯⁡⁡⁡⁯͏͏⁡⁡⁯⁯⁡͏⁯⁯⁯⁡͏͏͏͏͏', s = 'charCodeAt';
  document.querySelector('#result').innerHTML = context.slice(0, context.length / 2) + (
    message.split('').map((c, i) => c == ' ' ? '⁯' : ((i = p[c[s](0) - 97]) == '⁯' ? '' : i) + d[c[s](0) - 97]).join('')
  ) + context.slice(context.length / 2);
}
document.querySelector('#show').onclick = function {
  const text = document.querySelector('#text').value;
  var a = ['etaoinsr ', 'hldcumfpg', 'wybvkxjqz'], d = '⁢⁣⁤⁪⁫⁬⁭⁮⁯', r = 0;
  document.querySelector('#result').innerHTML = text.match(/[͏⁡⁢⁣⁤⁪⁫⁬⁭⁮⁯]/g).map(c => c === '⁡' ? (r = 1, '') : c === '͏' ? (r = 2, '') : (c = a[r][d.indexOf(c)], r = 0, c)).join('')
}
</script>
</body>
</html>
